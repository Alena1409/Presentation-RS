<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>reveal.js</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/black.css">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h1>RxJS</h1>
				<p>Alekseeva Alena 2024Q4</p>
			</section>

			<section>
				<section>
					<h2>Introduction to RxJS</h2>
					<ul>
						<li>RxJS is a Reactive Extension library for JavaScript, with variants available for multiple
							languages (RxJava, RxSwift, RxPy)</li>
						<li>It's a framework for reactivity in interfaces - enabling interfaces to automatically react
							to events and data changes</li>
					</ul>
				</section>
				<section>
					<h3>Key benefits</h3>
					<ul>
						<li>declarative code</li>
						<li>cancelable operations</li>
						<li>excellent error handling</li>
					</ul>
				</section>

				<section>
					<h3>Main purpose</h3>
					<p>comfortable management of asynchronous operations and events in a reactive
						programming style</p>
				</section>
			</section>

			<section>
				<section>
					<h2>Main concept: everything is a stream</h2>
					<p>To understand RxJS, you need to think in terms of streams rather than traditional JavaScript
						operations</p>
					<img src="stream.png" alt="stream">
				</section>
				<section>
					<ul>
						<li>Streams process data items one at a time through the entire pipeline (unlike arrays that
							process all items through each operation sequentially)</li>
						<li>Each value in a stream passes through all operators individually, not as a batch</li>
					</ul>
				</section>
				<section>
					<h3>Arrays vs RxJS Streams Example</h3>
					<pre><code>
	[1,2,3,4,5].map(v => v * 2).filter(v => v> 6)
	// Processes all elements through map, then all through filter
					</code></pre>
					<pre><code>
	from([1,2,3,4,5])
		.pipe(
			map(v => v * 2),
			filter(v => v> 6)
		)
		.subscribe(result)

	// Each item flows through the entire pipeline individually
					</code></pre>
				</section>
			</section>

			<section>
				<section>
					<h3>Versatility of RxJS Streams</h3>
					<li>Stream sources can be anything: input events, clicks, arrays, promises</li>
					<li>Streams provide a consistent interface for working with various asynchronous data</li>
					<li>The pipe mechanism provides a standardized way to compose operations</li>
				</section>
				<section>
					<h3>Ways to Create Streams in RxJS</h3>
					<ul>
						<li>
							<p>from() — creates a stream from an array, string, Promise, or iterable object</p>
							<pre><code>
	from([1, 2, 3, 4, 5])
		.pipe(/* operators */)
		.subscribe(value => console.log(value));
	</code></pre>
						</li>
						<li>
							<p>of() — creates a stream from individual values</p>
							<pre><code>
	of(1, 2, 3, 'string', {obj: 'value'})
		.subscribe(value => console.log(value));
								</code></pre>
						</li>
					</ul>
				</section>
				<section>
					<ul>
						<li>
							<p>fromEvent() — creates a stream from DOM events</p>
							<pre><code>fromEvent(document, 'click').subscribe(e => console.log(e));</code></pre>
						</li>
						<li>
							<p>interval() — creates a stream emitting sequential numbers at equal time intervals</p>
							<pre><code>interval(1000).subscribe(count => console.log(count));</code></pre>
						</li>
						<li>
							<p>timer() — creates a stream with a delay and optional interval</p>
							<pre><code>timer(3000, 1000).subscribe(value => console.log(value));</code></pre>
						</li>
						<li>...</li>
					</ul>
				</section>
				<section>
					<h3>Creating streams in Angular</h3>
					<ul>
						<li><code>formControl.valueChanges</code></li>
						<li><code>this.http.get(...)</code></li>
						<li><code>this.route.params</code>, <code>this.router.events</code></li>

					</ul>
				</section>
			</section>
			<section>
				<p>new Observable() — creating a stream manually with full control over its behavior</p>
				<pre><code class="language-ts">const observable = new Observable(subscriber => {
				  subscriber.next(1);
				  subscriber.error(err);
				  subscriber.complete();
				});
				//Observable = source of data</code></pre>
				<pre><code class="language-ts">const observer = {
				  next: val => console.log('Value:', val),
				  error: err => console.error('Error:', err),
				  complete: () => console.log('Done')
				};
				//Observer = data handler</code></pre>
				<pre><code class="language-ts">observable.subscribe(observer);
					//Subscription = connects them
				</code></pre>
			</section>

			<section>
				<section>
					<h2>Commonly used RxJs operators in Angular:</h2>
					<h3>map</h3>
					<pre><code class="language-ts">import { from, map } from 'rxjs';

							const obs = from([1,2,3]).pipe(map(n => n * 2));
							obs.subscribe(value => console.log(value));

							// 2
							// 4
							// 6</code></pre>
				</section>
				<section>
					<h3>filter</h3>
					<pre><code class="language-ts">import { from, filter } from 'rxjs';

							const obs = from([1,2,3]).pipe(filter(n => n > 2));
							obs.subscribe(value => console.log(value));
							
							// 3
							</code></pre>

				</section>

				<section>
					<h3>interval</h3>
					<pre><code class="language-ts">
							const timerObservable = interval(1000);
						
							timerObservable.subscribe(value => {
								console.log(`Прошла секунда: ${value}`);
							  });

							// Console output:
							// A second has passed: 0
							// A second has passed: 1
							// A second has passed: 2
							// A second has passed: 3
							//... 
							</code></pre>

				</section>

				<section>
					<h3>take</h3>
					<pre><code class="language-ts">
							import { interval } from 'rxjs';
							import { take } from 'rxjs/operators';

							interval(1000)
							.pipe(take(3))
							.subscribe(value => console.log(value));
							
							// Console output:
							// 0
							// 1
							// 2
							</code></pre>

				</section>

				<section>
					<h3>reduce and scan</h3>
					<pre>
							<code class="language-ts">
				import { from } from 'rxjs';
				import { reduce } from 'rxjs/operators';
			
				const donations = from([10, 20, 30]);

							</code>
							<code class="language-ts">
				donations
					.pipe(reduce((acc, value) => acc + value, 0))
					.subscribe(total => console.log(`${total}`));
					// Console output: 60

				donations
					.pipe(scan((acc, value) => acc + value, 0))
					.subscribe(currentSum => console.log(`${currentSum}`));
				//Console output: 10 30 60
							</code>

						</pre>

				</section>
				
			</section>
			<section>
				<section>
					<h2>Real-world use case</h2>
					<pre><code class="language-ts">this.searchControl.valueChanges
					.pipe(
					debounceTime(300),
					switchMap(query => this.http.get('/api?query=' + query))
					 )
					.subscribe(result => this.data = result);</code></pre>
					<p><em>Connect input to API call. Reactive and clean!</em></p>
				</section>

				<section>
					<h2>Error handling and retry</h2>
					<pre><code class="language-ts">this.http.get('/api/data')
					  .pipe(
						retry(2),
						catchError(err => of([]))
					  )
					  .subscribe(data => this.items = data);</code></pre>
					<p><em>Use <code>retry()</code> and <code>catchError()</code> to build robust streams.</em></p>
				</section>
			</section>
			<section>
				<pre>Installation<code class="language-ts">npm i rxjs</code></pre>
				<p>Interesting links</p>
				<ul>
					<li>
						<a href="https://rxviz.com/">https://rxviz.com/</a>
					</li>
					<li>
						<a href="https://rxjs.dev/guide/overview">RxJS - Introductionlink</a>
					</li>
				</ul>
			</section>

		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>

</html>